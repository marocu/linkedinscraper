var scraper = require('./scraper.js');
var getBasicInfo = require('./getBasicInfo.js');
var getMissingNames = require('./getMissingNames');

window.results = {
    people: []
};

window.results = {"people":[{"name":{"full":"John Wallace"},"profileLink":"https://www.linkedin.com/profile/view?id=1457210&authType=OUT_OF_NETWORK&au…hId%3A3717380161421841267772%2CVSRPtargetId%3A1457210%2CVSRPcmpt%3Aprimary","headline":"Senior SW Engineering Recruiter at Apple        iOS Apps & Frameworks","location":"San Francisco Bay Area","industry":"Internet","company":"Apple","currentPosition":"Apple Inc.","pastPositions":["Yahoo! Inc.","Sony Computer Entertainment","ONI Systems Inc. purchased by Ciena Corp. in 2003"],"education":["Menlo College"]},{"name":{"full":"Jacob Conway"},"profileLink":"https://www.linkedin.com/profile/view?id=1644330&authType=OPENLINK&authToke…hId%3A3717380161421841267772%2CVSRPtargetId%3A1644330%2CVSRPcmpt%3Aprimary","headline":"Technical Sourcing Recruiter - Wireless Software at Apple","location":"Greater San Diego Area","industry":"Staffing and Recruiting","company":"Apple","currentPosition":"","pastPositions":["Novatel Wireless","TalentWar.net, Inc.","Networked Recruiter"],"education":["Augustana College (SD)"]},{"name":{"full":"Bill Dudney"},"profileLink":"https://www.linkedin.com/profile/view?id=480284&authType=OUT_OF_NETWORK&aut…chId%3A3717380161421841267772%2CVSRPtargetId%3A480284%2CVSRPcmpt%3Aprimary","headline":"Writer of Code at Apple","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"AppleGala Factory Software LLCPragmatic Programmers","pastPositions":["Apple Inc.","Dudney.Net","Virtuas Solutions"],"education":["Texas A&M University"]},{"name":{"full":"Corey Carson"},"profileLink":"https://www.linkedin.com/profile/view?id=9816373&authType=OUT_OF_NETWORK&au…hId%3A3717380161421841267772%2CVSRPtargetId%3A9816373%2CVSRPcmpt%3Aprimary","headline":"Systems Engineer","location":"Greater Denver Area","industry":"Information Technology and Services","company":"Apple","currentPosition":"Apple","pastPositions":["Holcomb's Education Resource","Maize USD 266"],"education":["Pittsburg State University"]},{"name":{"full":"Samantha Kish"},"profileLink":"https://www.linkedin.com/profile/view?id=10254966&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841267772%2CVSRPtargetId%3A10254966%2CVSRPcmpt%3Aprimary","headline":"Global Supply Manager - Channel Procurement at Apple","location":"San Francisco Bay Area","industry":"Consumer Electronics","company":"Apple","currentPosition":"","pastPositions":["Apple","Johns Manville","Honeywell"],"education":["University of Colorado at Denver"]},{"name":{"full":"Dimitri Geier"},"profileLink":"https://www.linkedin.com/profile/view?id=12063296&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841267772%2CVSRPtargetId%3A12063296%2CVSRPcmpt%3Aprimary","headline":"Dimitri Geier is a Senior Software Engineer at Apple","location":"San Francisco Bay Area","industry":"Telecommunications","company":"Apple","currentPosition":"Apple","pastPositions":["Motorola","Nextive Solutions","Warner Music Group"],"education":["Universität zu Köln"]},{"name":{"full":"Matthew Gaddis"},"profileLink":"https://www.linkedin.com/profile/view?id=12213953&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841267772%2CVSRPtargetId%3A12213953%2CVSRPcmpt%3Aprimary","headline":"UI Engineering Manager at Apple","location":"San Francisco Bay Area","industry":"Internet","company":"Apple","currentPosition":"Apple","pastPositions":["Scout Labs","PlayCoed","Self"],"education":["University of Colorado Boulder"]},{"name":{"full":"Tri Vuong"},"profileLink":"https://www.linkedin.com/profile/view?id=14068282&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841267772%2CVSRPtargetId%3A14068282%2CVSRPcmpt%3Aprimary","headline":"Software Engineer at Apple","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"","pastPositions":["Twitter","YP","Better The World"],"education":["University of Toronto"]},{"name":{"full":"Kshitij Deshpande"},"profileLink":"https://www.linkedin.com/profile/view?id=19292128&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841267772%2CVSRPtargetId%3A19292128%2CVSRPcmpt%3Aprimary","headline":"Sr. iOS Engineer at Apple","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"","pastPositions":["Gracenote (A Sony Company)","Independent iOS Developer","Telestream"],"education":["Wright State University"]},{"name":{"full":"Paul Stuart"},"profileLink":"https://www.linkedin.com/profile/view?id=20546172&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841267772%2CVSRPtargetId%3A20546172%2CVSRPcmpt%3Aprimary","headline":"TSE/Escalations|vCloudSuite|vShield|Infrastructure|Network|Fault|Storage at VMware","location":"Greater Denver Area","industry":"Information Technology and Services","company":"Apple","currentPosition":"VMwareTime Warner CableApple Retail","pastPositions":["VMware","IBM Global Services"],"education":["Park University"]},{"name":{"full":"Azhar Sikander"},"profileLink":"https://www.linkedin.com/profile/view?id=21032090&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841270129%2CVSRPtargetId%3A21032090%2CVSRPcmpt%3Aprimary","headline":"Software Engineer in Test at Apple","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"","pastPositions":["Bentley Systems","Qwest Communications","NSIDC, University of Colorado at Boulder"],"education":["University of Colorado Boulder"]},{"name":{"full":"Ranjit Menon"},"profileLink":"https://www.linkedin.com/profile/view?id=24331686&authType=OPENLINK&authTok…Id%3A3717380161421841270129%2CVSRPtargetId%3A24331686%2CVSRPcmpt%3Aprimary","headline":"Senior Research Scientist, Apple Maps","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"Apple","pastPositions":["Pacific Gas and Electric Company","Schneider Electric","Telvent Miner & Miner"],"education":["Indian Institute of Technology, Madras"]},{"name":{"full":"Liang Wei"},"profileLink":"https://www.linkedin.com/profile/view?id=30103561&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841270129%2CVSRPtargetId%3A30103561%2CVSRPcmpt%3Aprimary","headline":"Senior Data Scientist at Apple","location":"San Francisco Bay Area","industry":"Information Technology and Services","company":"Apple","currentPosition":"","pastPositions":["Chegg Inc.","Amazon.com","Lucid Commerce (Acquired by AOL in 2014)"],"education":["The College of William and Mary"]},{"name":{"full":"Kristina Gulish"},"profileLink":"https://www.linkedin.com/profile/view?id=35663354&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841270129%2CVSRPtargetId%3A35663354%2CVSRPcmpt%3Aprimary","headline":"Strategic Sourcing Manager at Apple","location":"United States","industry":"Consumer Electronics","company":"Apple","currentPosition":"Apple","pastPositions":["Johns Manville","Kohler Co.","BorgWarner"],"education":["University of Colorado at Denver"]},{"name":{"full":"Sonia Saini"},"profileLink":"https://www.linkedin.com/profile/view?id=38477226&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841270129%2CVSRPtargetId%3A38477226%2CVSRPcmpt%3Aprimary","headline":"Sr. QA Engineer at Apple","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"","pastPositions":["Time Warner Cable","Comcast","Grebweb"],"education":["Punjab Technical University"]},{"name":{"full":"Michael Turner"},"profileLink":"https://www.linkedin.com/profile/view?id=42361191&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841270129%2CVSRPtargetId%3A42361191%2CVSRPcmpt%3Aprimary","headline":"iOS & OS X Software Engineer","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"Apple","pastPositions":["WayIn","Troppus Software Corporation","National Analytics, Inc."],"education":["Colorado State University"]},{"name":{"full":"George Kalangi"},"profileLink":"https://www.linkedin.com/profile/view?id=52908053&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841270129%2CVSRPtargetId%3A52908053%2CVSRPcmpt%3Aprimary","headline":"Software Engineer UI at Apple","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"AppleInfosys","pastPositions":["University of Louisiana at Lafayette","HCL Technologies"],"education":["University of Louisiana at Lafayette"]},{"name":{"full":"Mark Gouldsmith"},"profileLink":"https://www.linkedin.com/profile/view?id=64761225&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841270129%2CVSRPtargetId%3A64761225%2CVSRPcmpt%3Aprimary","headline":"Technology + Media Production","location":"Austin, Texas Area","industry":"Online Media","company":"Apple","currentPosition":"Applelesfire.com","pastPositions":["Apple","Harte-Hanks, Inc.","Peak Performers"],"education":["New Mexico State University"]},{"name":{"full":"Trevor Sheridan"},"profileLink":"https://www.linkedin.com/profile/view?id=72118642&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841270129%2CVSRPtargetId%3A72118642%2CVSRPcmpt%3Aprimary","headline":"iOS Engineer at Apple","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"","pastPositions":["Groupon","Trevor Inc","Sureify.com"],"education":[]},{"name":{"full":"Marvin Dela Cruz"},"profileLink":"https://www.linkedin.com/profile/view?id=82061397&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841270129%2CVSRPtargetId%3A82061397%2CVSRPcmpt%3Aprimary","headline":"Enterprise Services Engineer at Apple","location":"Sacramento, California Area","industry":"Computer Software","company":"Apple","currentPosition":"Apple","pastPositions":["Dept of Real Estate","California Secretary of State","Eclipse/InterlocSolutions"],"education":[]},{"name":{"full":"Anita Chen"},"profileLink":"https://www.linkedin.com/profile/view?id=112467466&authType=OUT_OF_NETWORK&…d%3A3717380161421841274700%2CVSRPtargetId%3A112467466%2CVSRPcmpt%3Aprimary","headline":"Mechanical Engineer at Apple","location":"San Francisco Bay Area","industry":"Computer Hardware","company":"Apple","currentPosition":"","pastPositions":["KLA-Tencor"],"education":["Georgia Institute of Technology"]},{"name":{"full":"Jose Alfonso"},"profileLink":"https://www.linkedin.com/profile/view?id=115020996&authType=OUT_OF_NETWORK&…d%3A3717380161421841274700%2CVSRPtargetId%3A115020996%2CVSRPcmpt%3Aprimary","headline":"UI/UX Developer at Apple Inc.","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"","pastPositions":["Certain, Inc.","MasterCard","MHW, Ltd."],"education":["Various Schools"]},{"name":{"full":"Eric Asel"},"profileLink":"https://www.linkedin.com/profile/view?id=177571387&authType=OUT_OF_NETWORK&…d%3A3717380161421841274700%2CVSRPtargetId%3A177571387%2CVSRPcmpt%3Aprimary","headline":"Genius at Apple Inc.","location":"San Antonio, Texas Area","industry":"Consumer Electronics","company":"Apple","currentPosition":"The Gathering ChurchApple","pastPositions":["Gateway Fellowship Church","First Assembly of God Church"],"education":["The University of Texas at San Antonio"]},{"name":{"full":"Ryan Hewitt"},"profileLink":"https://www.linkedin.com/profile/view?id=245226180&authType=OUT_OF_NETWORK&…d%3A3717380161421841274700%2CVSRPtargetId%3A245226180%2CVSRPcmpt%3Aprimary","headline":"Genius at Apple","location":"San Francisco Bay Area","industry":"Consumer Electronics","company":"Apple","currentPosition":"AppleAramark","pastPositions":["Apple","Sharks Sports and Entertainment"],"education":["San Jose State University"]},{"name":{"full":"Graham Parkinson-Morgan"},"profileLink":"https://www.linkedin.com/profile/view?id=268029324&authType=OUT_OF_NETWORK&…d%3A3717380161421841274700%2CVSRPtargetId%3A268029324%2CVSRPcmpt%3Aprimary","headline":"I tune iTunes","location":"San Francisco Bay Area","industry":"Computer Software","company":"Apple","currentPosition":"Apple","pastPositions":["Quark Software Inc."],"education":["University of Oxford"]},{"name":{"full":"Chris S."},"profileLink":"https://www.linkedin.com/profile/view?id=11088867&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841274700%2CVSRPtargetId%3A11088867%2CVSRPcmpt%3Aprimary","headline":"Silicon Engineering Staff Advisor","location":"San Francisco Bay Area","industry":"Semiconductors","company":"Apple","currentPosition":"Apple","pastPositions":["Arista Networks, Inc.","Ericsson","Juniper Networks"],"education":["California State University-Chico"]},{"name":{"full":"Kerie D."},"profileLink":"https://www.linkedin.com/profile/view?id=4540715&authType=OUT_OF_NETWORK&au…hId%3A3717380161421841274700%2CVSRPtargetId%3A4540715%2CVSRPcmpt%3Aprimary","headline":"iOS Recruiter - Apple Watch, HealthKit and native app teams","location":"San Francisco Bay Area","industry":"Human Resources","company":"Apple","currentPosition":"Apple","pastPositions":["Hitachi Data Systems","WebMethods","VeriSign"],"education":["University of California, Santa Cruz"]},{"name":{"full":"John Turnberg"},"profileLink":"https://www.linkedin.com/profile/view?id=758661&authType=OPENLINK&authToken…chId%3A3717380161421841274700%2CVSRPtargetId%3A758661%2CVSRPcmpt%3Aprimary","headline":"Searching for great Mechanical Engineers","location":"San Francisco Bay Area","industry":"Internet","company":"Apple","currentPosition":"Apple","pastPositions":["LinkedIn","Counsyl","JRC Associates"],"education":["University of Massachusetts, Amherst"]},{"name":{"full":"Matt S."},"profileLink":"https://www.linkedin.com/profile/view?id=16907430&authType=OUT_OF_NETWORK&a…Id%3A3717380161421841274700%2CVSRPtargetId%3A16907430%2CVSRPcmpt%3Aprimary","headline":"Management Advisor and Senior Lecturer","location":"Melbourne Area, Australia","industry":"Construction","company":"Apple","currentPosition":"University of MelbourneMcGraw-Hill ProfessionalStevens Construction Institute, Inc.","pastPositions":["University of Florida","FMI Corporation"],"education":["University of Florida"]},{"name":{"full":"Tim Esse"},"profileLink":"https://www.linkedin.com/profile/view?id=3879837&authType=OPENLINK&authToke…hId%3A3717380161421841274700%2CVSRPtargetId%3A3879837%2CVSRPcmpt%3Aprimary","headline":"Recruiting World Class Talent For Apple Inc. - Certified Linkedin Recruiter Coach - Certified Linkedin Recruiter Expert","location":"Greater Minneapolis-St. Paul Area","industry":"Staffing and Recruiting"}]}


window.callTabAction = function (tabId, action, callback, args) {
    var message = {to: 'content', action: action};
    chrome.tabs.sendMessage(tabId, message, callback)
};

window.go = function (settings) {

    // for debugging
    settings.scraper.limit = 29;

    var routine = [
        //scraper.start.bind(undefined, settings, results),
        //getBasicInfo.start.bind(undefined, settings, results)
        getMissingNames.start.bind(undefined, settings, results)
    ];
    routine.push(done);

    async.series(routine);
};

function done() {
    console.table(results)
}

//var permuter = require('./emailPermuter.js');
//var find_last_names = require('./last_names.js');
//var email_verifier = require('./email_check.js');